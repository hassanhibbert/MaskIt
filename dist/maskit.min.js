"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}!function(t){function n(t){for(var e=arguments.length,o=Array(e>1?e-1:0),l=1;e>l;l++)o[l-1]=arguments[l];if(!(this instanceof n))return new(Function.prototype.bind.apply(n,[null].concat([t],o)));var u,c=this;if(this.maskValue="",this.maskPattern=t.split(""),this.maskElement=!h(o[0])&&p(o[0]),this.events={onChangeHandler:i.bind(c),onInputHandler:s.bind(c)},this.maskDefinitions={0:{pattern:/\d/},A:{pattern:/[a-zA-Z]/},Z:{pattern:/[a-zA-Z0-9]/}},u={maskOnInput:!0,maskOnChange:!1,onInvalidHandler:null,onInputHandler:null,onChangeHandler:null,onComplete:null,maskDefinitions:null},this.options=h(o[1]||o[0])?r(u,o[1]||o[0]):u,this.options.maskDefinitions&&r(this.maskDefinitions,this.options.maskDefinitions),this.maskElement){for(var m=0,g=this.maskElement.length;g>m;m+=1)this.maskElement[m].value=this.mask(this.maskElement[m].value);a.call(this)}}function e(){this.options.maskOnChange&&c(this.maskElement,"change",this.events.onChangeHandler,!1),this.options.maskOnInput&&c(this.maskElement,"input",this.events.onInputHandler,!1)}function a(){this.options.maskOnChange&&c(this.maskElement,"change",this.events.onChangeHandler,!0),this.options.maskOnInput&&c(this.maskElement,"input",this.events.onInputHandler,!0)}function i(t){t.preventDefault();var n=this.mask(t.target.value);u(this.options.onChangeHandler)&&this.options.onChangeHandler.call(null,t.target,n),t.target.value=n}function s(t){t.preventDefault();var n,e,a=this.maskValue.length,i=o(t.target),s=this.mask(t.target.value);u(this.options.onInputHandler)&&this.options.onInputHandler.call(null,t.target,s),t.target.value=s,n=t.target.value.length,e=n>a&&""===t.target.value.charAt(i+1).trim()?i+1:i,l(t.target,e)}function o(t){if(t.selectionStart){var n=0,e=t.selectionStart;return(e||0===e)&&(n=e),n}}function l(t,n){t.setSelectionRange&&(t.focus(),t.setSelectionRange(n,n))}function r(t,n){var e;for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function h(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"[object Function]"===Object.prototype.toString.call(t)}function p(t){return"string"==typeof t?[].concat(_toConsumableArray(document.querySelectorAll(t))):"undefined"==typeof t||t instanceof Array?t:[t]}function c(t,n,e,a){for(var i=(a?"add":"remove")+"EventListener",s=0,o=t.length;o>s;s++)t[s][i](n,e,!1)}n.prototype={mask:function(t){for(var n,e,a,i,s,o,l,r=t.split(""),h=this.maskPattern,p=this.maskDefinitions,c=Object.keys(p),m=0,g=h.length;g>m;m+=1)o=h[m],n=c.indexOf(o)<0,e=o===r[m],i=r.length,o&&n&&i>m?!e&&r.splice(m,0,o):r[m]&&p[o]&&!p[o].pattern.test(r[m])?(l="The character "+r[m]+" does not match this pattern: "+p[o].pattern,u(this.options.onInvalidHandler)&&this.options.onInvalidHandler.call(null,l,r[m],p[o].pattern),r.splice(m,1),m-=1):o&&i>=m&&n&&i>this.maskValue.length&&!e&&r.splice(m,0,o);return s=r.join(""),u(this.options.onComplete)&&r.length===h.length&&this.options.onComplete.call(null,s),s.length<=h.length?this.maskValue=s:s.length>h.length&&(a=s.length-h.length,r.splice(h.length,a),this.maskValue=r.join("")),this.maskValue},destroyEvents:function(){e.call(this)}},t.MaskIt=n}(window);