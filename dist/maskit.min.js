"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function n(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(s);r.maskDefinitions={0:{pattern:/\d/},A:{pattern:/[a-zA-Z]/},Z:{pattern:/[a-zA-Z0-9]/}};var o={maskDefinitions:null,onInputHandler:null,onChangeHandler:null,onInvalidCharacter:null,onComplete:null};return r.cursorBeforeState=0,r.events=[{type:"input",handler:r.onInputHandler.bind(r)},{type:"change",handler:r.onChangeHandler.bind(r)},{type:"keydown",handler:r.onKeyDownHandler.bind(r)}],r.options=Object.assign(o,e),r.options.maskDefinitions&&(r.maskDefinitions=Object.assign(r.maskDefinitions,r.options.maskDefinitions)),r.maskPatterns=[].concat(_toConsumableArray(t)),r.elements=r.getElementList(n),r.initializeEvents(),r}Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?Number(t):t>0?1:-1}),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.MaskIt=n):"undefined"!=typeof t&&(t.MaskIt=n);var e=function(t,n){return Object.assign(Object.create(t),n)},r={getCursorPosition:function(t){var n=0,e=t.selectionStart;return e&&(e||0===e)&&(n=e),n},setCursorPosition:function(t,n){t.setSelectionRange&&(t.focus(),t.setSelectionRange(n,n))},getElementList:function(t){return"string"==typeof t?[].concat(_toConsumableArray(document.querySelectorAll(t))):"undefined"==typeof t||t instanceof Array?t:[t]},setListeners:function(t,n,e,r){if(t&&n&&e)for(var o=(r?"add":"remove")+"EventListener",i=0,s=t.length;s>i;i++)t[i][o](n,e,!1)},escapeRegExp:function(t){return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t}},o=e(r,{isMaskComplete:function(t){return this.maskPatterns.length===t.length},unmask:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=n.split(""),r=this.removeDuplicatesPatterns(this.maskPatterns),o=this.mapPatternToMaskDefinitions(r),i=e.filter(function(n){var e=o.some(function(e){return new RegExp(t.escapeRegExp(e)).test(n)});return t.options.onInvalidCharacter&&!e&&t.options.onInvalidCharacter({invalidCharacter:n}),e});return i.join("")},maskInput:function(t){var n=t,e=this.mask(n.value),r=this.getCursorPosition(n),o=n.value.length,i=e.length,s=this.calculateCursorPosition(r,o,i);return o?(n.value=e,this.setCursorPosition(n,s),e):""},removeDuplicatesPatterns:function(t){return t.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])},getPatternsForMask:function(){var t=this;return this.maskPatterns.reduce(function(n,e){var r=t.maskDefinitions[e],o=r&&n.indexOf(r.pattern)<0;return o&&n.push(r.pattern),n},[])},mapPatternToMaskDefinitions:function(t){var n=this;return t.map(function(t){var e=n.maskDefinitions[t];return e?e.pattern:t})},calculateCursorPosition:function(t,n,e){var r=e-n,o=t+r,i=this.cursorBeforeState>t&&1===r||Math.sign(r)<0,s=o>1?o:t;return i?t:s}}),i=e(o,{initializeEvents:function(){var t=this;this.events.forEach(function(n){t.setListeners(t.elements,n.type,n.handler,!0)})},onKeyDownHandler:function(t){this.cursorBeforeState=this.getCursorPosition(t.target)},onInputHandler:function(t){var n=this.maskInput(t.target);this.options.onInputHandler&&this.options.onInputHandler({output:n,event:t})},onChangeHandler:function(t){if(this.options.onChangeHandler){var n=this.maskInput(t.target);this.options.onChangeHandler({output:n,event:t})}}}),s=e(i,{mask:function a(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.mapPatternToMaskDefinitions(this.maskPatterns),e=[].concat(_toConsumableArray(this.unmask(t))),a=[],r=0;r<n.length;r+=1){var o=n[r],i=e[r],s=new RegExp(this.escapeRegExp(o),"g");if(s.test(i))a.push(i);else if("object"!==("undefined"==typeof o?"undefined":_typeof(o)))e.splice(r,0,o),a.push(o);else{if(!(a.length<n.length&&void 0!==e[r]))return a.join("");e.splice(r,1),r-=1}}var u=a.join("");return this.isMaskComplete(u)&&this.options.onComplete&&this.options.onComplete({complete:u}),u},destroyEvents:function(){var t=this;this.events.forEach(function(n){t.setListeners(t.elements,n.type,n.handler,!1)})}})}(window);