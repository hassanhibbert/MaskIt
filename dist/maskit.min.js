"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}!function(t){function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);var l,u=this;if(this.maskValue="",this.maskPattern=t.split(""),this.maskElement=e&&m(e),this.events={onChangeHandler:a.bind(u),onInputHandler:i.bind(u)},this.maskDefinitions={0:{pattern:/\d/},A:{pattern:/[a-zA-Z]/},Z:{pattern:/[a-zA-Z0-9]/}},l={maskOnInput:!0,maskOnChange:!1,onInvalidHandler:null,onInputHandler:null,onChangeHandler:null,onComplete:null,maskDefinitions:null},this.options=h(o)?r(l,o):l,this.options.maskDefinitions&&r(this.maskDefinitions,this.options.maskDefinitions),this.maskElement){for(var c=0,p=this.maskElement.length;c<p;c+=1)this.maskElement[c].value=this.mask(this.maskElement[c].value);s.call(this)}}function e(){this.options.maskOnChange&&c(this.maskElement,"change",this.events.onChangeHandler,!1),this.options.maskOnInput&&c(this.maskElement,"input",this.events.onInputHandler,!1)}function s(){this.options.maskOnChange&&c(this.maskElement,"change",this.events.onChangeHandler,!0),this.options.maskOnInput&&c(this.maskElement,"input",this.events.onInputHandler,!0)}function a(t){t.preventDefault(),this.options.onChangeHandler?this.options.onChangeHandler.call(null,t.target,this.mask(t.target.value)):t.target.value=this.mask(t.target.value)}function i(t){t.preventDefault();var n=l(t.target);this.options.onInputHandler?this.options.onInputHandler.call(null,t.target,this.mask(t.target.value)):(t.target.value=this.mask(t.target.value),n.call(this))}function o(t){for(var n,e=0,s=this.maskPattern.length;e<s;e++)Object.keys(this.maskDefinitions).indexOf(this.maskPattern[e])<0&&t.indexOf(this.maskPattern[e])>=0&&(n=t.split(this.maskPattern[e]).join(""));return n?n:t}function l(t){var n=0,e=t.selectionStart;return(e||0===e)&&(n=e+1),function(){t.focus(),t.setSelectionRange(n,n)}}function r(t,n){var e;for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function h(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"[object Function]"===Object.prototype.toString.call(t)}function m(t){return"string"==typeof t?[].concat(_toConsumableArray(document.querySelectorAll(t))):"undefined"==typeof t||t instanceof Array?t:[t]}function c(t,n,e,s){for(var a=(s?"add":"remove")+"EventListener",i=0,o=t.length;i<o;i++)t[i][a](n,e,!1)}n.prototype={mask:function(t){t=o.call(this,t).split("");for(var n,e,s,a,i=this.maskPattern,l=this.maskDefinitions,r=Object.keys(l),h=0,m=i.length;h<m;h+=1)n=i[h],e=r.indexOf(n)<0,s=n===t[h],e&&h<t.length?!s&&t.splice(h,0,n):t[h]&&l[n]&&!l[n].pattern.test(t[h])?(a="The character "+t[h]+" does not match this pattern: "+l[n].pattern,t.splice(h,1),u(this.options.onInvalidHandler)&&this.options.onInvalidHandler.call(null,a,t[h],l[n].pattern)):h<=t.length&&e&&t.length>this.maskValue.length&&!s&&t.splice(h,0,n);return t.length<=i.length&&(this.maskValue=t.join("")),u(this.options.onComplete)&&t.length===i.length&&this.options.onComplete.call(null,this.maskValue),this.maskValue},destroyEvents:function(){e.call(this)}},t.MaskIt=n}(window);