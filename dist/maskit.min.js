"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){function n(t){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=Object.create(s);r.maskDefinitions={0:{pattern:/\d/},A:{pattern:/[a-zA-Z]/},Z:{pattern:/[a-zA-Z0-9]/}};var i={maskDefinitions:null,onInputHandler:function(){},onChangeHandler:function(){},onInvalidHandler:function(){},onComplete:function(){}};return r.cursorBeforeState=0,r.events=[{type:"input",handler:r.onInputHandler.bind(r)},{type:"change",handler:r.onChangeHandler.bind(r)},{type:"keydown",handler:r.onKeyDownHandler.bind(r)}],r.options=Object.assign(i,e),r.options.maskDefinitions&&(r.maskDefinitions=Object.assign(r.maskDefinitions,r.options.maskDefinitions)),r.maskPatterns=[].concat(_toConsumableArray(t)),n&&(r.elements=r.getElementList(n),r.elements.length&&r.initializeEvents()),r}Math.sign||(Math.sign=function(t){return t=+t,0===t||isNaN(t)?Number(t):t>0?1:-1}),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.MaskIt=n):"undefined"!=typeof t&&(t.MaskIt=n);var e=function(t,n){return Object.assign(Object.create(t),n)},r={getCursorPosition:function(t){var n=0,e=t.selectionStart;return e?e:n},setCursorPosition:function(t,n){t.setSelectionRange&&(t.focus(),t.setSelectionRange(n,n))},getElementList:function(t){return"string"==typeof t?[].concat(_toConsumableArray(document.querySelectorAll(t))):"undefined"==typeof t||t instanceof Array?t:[t]},setListeners:function(t,n,e,r){if(t&&n&&e)for(var i=(r?"add":"remove")+"EventListener",o=0,s=t.length;o<s;o++)t[o][i](n,e,!1)},escapeRegExp:function(t){return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t}},i=e(r,{isMaskComplete:function(t){return this.maskPatterns.length===t.length},unmask:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=n.split(""),r=this.removeDuplicatesPatterns(this.maskPatterns),i=this.mapPatternToMaskDefinitions(r),o=e.filter(function(n){var e=i.some(function(e){return new RegExp(t.escapeRegExp(e)).test(n)});return e||t.options.onInvalidHandler("Invalid character "+n+".",n),e});return o.join("")},maskInput:function(t){var n=t,e=this.mask(n.value),r=this.getCursorPosition(n),i=n.value.length,o=e.length,s=this.calculateCursorPosition(r,i,o);return i?(n.value=e,this.setCursorPosition(n,s),e):""},removeDuplicatesPatterns:function(t){return t.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])},getPatternsForMask:function(){var t=this;return this.maskPatterns.reduce(function(n,e){var r=t.maskDefinitions[e],i=r&&n.indexOf(r.pattern)<0;return i&&n.push(r.pattern),n},[])},mapPatternToMaskDefinitions:function(t){var n=this;return t.map(function(t){var e=n.maskDefinitions[t];return e?e.pattern:t})},calculateCursorPosition:function(t,n,e){var r=e-n,i=t+r,o=this.cursorBeforeState>t&&1===r||Math.sign(r)<0,s=i>1?i:t;return o?t:s}}),o=e(i,{initializeEvents:function(){var t=this;this.events.forEach(function(n){return t.setListeners(t.elements,n.type,n.handler,!0)})},onKeyDownHandler:function(t){this.cursorBeforeState=this.getCursorPosition(t.target)},onInputHandler:function(t){var n=this.maskInput(t.target);this.options.onInputHandler(t.target,n)},onChangeHandler:function(t){var n=this.maskInput(t.target);this.options.onChangeHandler(t.target,n)}}),s=e(o,{mask:function t(){for(var n=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.mapPatternToMaskDefinitions(this.maskPatterns),r=[].concat(_toConsumableArray(this.unmask(n))),t=[],i=0;i<e.length;i+=1){var o=e[i],s=r[i],a=new RegExp(this.escapeRegExp(o),"g");if(a.test(s))t.push(s);else if("object"!==("undefined"==typeof o?"undefined":_typeof(o)))r.splice(i,0,o),t.push(o);else{if(!(t.length<e.length&&void 0!==r[i]))return t.join("");r.splice(i,1),i-=1}}var u=t.join("");return this.isMaskComplete(u)&&this.options.onComplete(u),u},destroyEvents:function(){var t=this;this.events.forEach(function(n){return t.setListeners(t.elements,n.type,n.handler,!1)})}})}(window);